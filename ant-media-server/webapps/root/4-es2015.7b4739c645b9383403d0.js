(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{UO6m:function(e,t,i){"use strict";i.d(t,"a",(function(){return Ue}));var n=i("lTdr"),s=i("XGgE"),c=i("OLhb"),a=i("U/Bw"),r=i("eikZ"),l=i("+0xr"),o=i("0IaG"),b=i("fXoL"),d=i("3Pt+"),u=i("ofXK");let f=(()=>{class e{constructor(e,t){this.validateEqual=e,this.reverse=t}get isReverse(){return!!this.reverse&&"true"===this.reverse}validate(e){let t=e.value,i=e.root.get(this.validateEqual);return i&&t!==i.value&&!this.isReverse?{validateEqual:!1}:(i&&t===i.value&&this.isReverse&&(delete i.errors.validateEqual,Object.keys(i.errors).length||i.setErrors(null)),i&&t!==i.value&&this.isReverse&&i.setErrors({validateEqual:!1}),null)}}return e.\u0275fac=function(t){return new(t||e)(b.cc("validateEqual"),b.cc("reverse"))},e.\u0275dir=b.Hb({type:e,selectors:[["","validateEqual","","formControlName",""],["","validateEqual","","formControl",""],["","validateEqual","","ngModel",""]],features:[b.Ab([{provide:d.h,useExisting:Object(b.V)(()=>e),multi:!0}])]}),e})();var g,h,p;g=$localize`:@@editUserCardTitle␟5371b1c5378106a120214f43b1646d08f9b16d58␟4111930681756918380: Edit User `,h=$localize`:@@newLiveStreamCancelButton␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,p=$localize`:@@newPassword␟c7014c6360e94b236286b869c3fe0ea9911c0387␟1221596867309460035:New Password`;const S=["placeholder",$localize`:@@password_place_holder␟c32ef07f8803a223a83ed17024b38e8d82292407␟1431416938026210429:Password`];function m(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",9),b.Sb(1,"label"),b.Wb(2,p),b.Rb(),b.Sb(3,"input",17,18),b.Xb(5,S),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().userEditing.newPassword=t})),b.Rb(),b.Sb(6,"small",19),b.Jc(7," Password is required and at least 6 characters "),b.Rb(),b.Rb()}if(2&e){const e=b.xc(4),t=b.jc(),i=b.xc(2);b.Bb(3),b.qc("required",t.userEditing.newPassword)("ngModel",t.userEditing.newPassword),b.Bb(3),b.qc("hidden",e.valid||!i.submitted)}}var v,R;function y(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",9),b.Sb(1,"label"),b.Wb(2,v),b.Rb(),b.Sb(3,"input",20,21),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().newPasswordAgain=t})),b.Rb(),b.Sb(5,"small",19),b.Jc(6," Passwords should match "),b.Rb(),b.Rb()}if(2&e){const e=b.xc(4),t=b.jc(),i=b.xc(2);b.Bb(3),b.qc("required",t.changePassword)("ngModel",t.newPasswordAgain),b.Bb(2),b.qc("hidden",e.valid||!i.submitted)}}function C(e,t){if(1&e&&(b.Sb(0,"option",11),b.Jc(1),b.Rb()),2&e){const e=t.$implicit;b.qc("value",e),b.Bb(1),b.Lc(" ",e," ")}}function w(e,t){if(1&e){const e=b.Tb();b.Sb(0,"select",10),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().userEditing.scope=t})),b.Sb(1,"option",11),b.Jc(2,"Everything"),b.Rb(),b.Hc(3,C,2,2,"option",22),b.Rb()}if(2&e){const e=b.jc();b.qc("name","ApplicationPermission")("ngModel",e.userEditing.scope),b.Bb(1),b.rc("value",e.SYSTEM_SCOPE_OF_ACCESS),b.Bb(2),b.qc("ngForOf",e.applications.applications)}}function E(e,t){1&e&&(b.ac(0,R,1),b.Nb(1,"i",23),b.Yb())}v=$localize`:@@newPassword␟a80ca2c8cdd5c57ec276e5917673c562a988ac04␟8663553932392094435:New Password(Again)`,R=$localize`:@@newLiveStreamSaveButton␟49019640af78cddd3b21bc3584f1499e5d8ed91b␟5740235461931807510:${"\ufffd*31:1\ufffd\ufffd#1:1\ufffd"}:START_ITALIC_TEXT:${"\ufffd/#1:1\ufffd\ufffd/*31:1\ufffd"}:CLOSE_ITALIC_TEXT:Save`;let T=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.restService=t,this.data=i,this.loading=!1,this.userUpdating=!1,this.userNameEmpty=!1,this.changePassword=!1,this.newPasswordAgain="",this.AdminUserType="ADMIN",this.ReadOnlyUserType="READ_ONLY",this.BasicUserType="USER",this.SYSTEM_SCOPE_OF_ACCESS="system",console.debug(i.email+" - "+i.type),this.userEditing=new a.f(i.email,""),this.userEditing.scope=i.scope,this.userEditing.userType=i.type}ngOnInit(){this.restService.getApplications().subscribe(e=>{this.applications=e},e=>{Object(a.g)(e)})}onNoClick(){this.dialogRef.close()}updateUser(e){e&&(this.restService.checkStreamName(this.userEditing.email)?(console.log("user pass word "+this.userEditing.newPassword),""!=this.userEditing.newPassword&&null!=this.userEditing.newPassword&&(this.userEditing.newPassword=Object(c.e)(this.userEditing.newPassword)),this.userUpdating=!0,this.restService.editUser(this.userEditing).subscribe(e=>{console.log("data :"+JSON.stringify(e)),this.userUpdating=!1,e.success?($.notify({icon:"ti-save",message:"User is updated"},{type:"success",delay:900,placement:{from:"top",align:"right"}}),this.dialogRef.close()):$.notify({icon:"ti-alert",message:"User is not updated: "+e.message+" "+e.errorId},{type:"warning",delay:900,placement:{from:"top",align:"right"}})},e=>{Object(a.g)(e),this.userUpdating=!1})):this.userNameEmpty=!0)}cancelEditLiveStream(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(o.g),b.Mb(a.e),b.Mb(o.a))},e.\u0275cmp=b.Gb({type:e,selectors:[["user-edit-dialog"]],decls:34,vars:14,consts:[["method","post","validate","",3,"ngSubmit"],["f","ngForm"],[1,"card-content",2,"padding-top","0px"],[1,"card-title","text-left"],[1,"card-content"],[1,"checkbox"],["enabled","","id","change_password","name","change_password","type","checkbox",3,"ngModel","ngModelChange"],["for","change_password"],["class","form-group text-left",4,"ngIf"],[1,"form-group","text-left"],["type","text","required","",1,"dropdown-toggle","form-control",3,"name","ngModel","ngModelChange"],[3,"value"],["type","text","class","dropdown-toggle form-control","required","",3,"name","ngModel","ngModelChange",4,"ngIf"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-fill","btn-success",3,"disabled"],["class","fa fa-spinner fa-pulse fa-1x fa-fw","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-simple",3,"click"],["type","password","name","password","minlength","6","validateEqual","password_again","reverse","true",1,"form-control",3,"required","ngModel","ngModelChange",6,"placeholder"],["password","ngModel"],[1,"text-danger",3,"hidden"],["type","password","name","password_again","minlength","6","placeholder","Password","reverse","false","validateEqual","password",1,"form-control",3,"required","ngModel","ngModelChange"],["password_again","ngModel"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fa","fa-spinner","fa-pulse","fa-1x","fa-fw"]],template:function(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div"),b.Sb(1,"form",0,1),b.fc("ngSubmit",(function(){b.zc(e);const i=b.xc(2);return t.updateUser(i.valid)})),b.Sb(3,"div",2),b.Sb(4,"h4",3),b.Wb(5,g),b.Rb(),b.Rb(),b.Sb(6,"div",4),b.Sb(7,"div",5),b.Sb(8,"input",6),b.fc("ngModelChange",(function(e){return t.changePassword=e})),b.Rb(),b.Sb(9,"label",7),b.Jc(10," Change Password "),b.Rb(),b.Rb(),b.Hc(11,m,8,3,"div",8),b.Hc(12,y,7,3,"div",8),b.Sb(13,"fieldset"),b.Sb(14,"div",9),b.Sb(15,"label"),b.Jc(16,"User type"),b.Rb(),b.Sb(17,"select",10),b.fc("ngModelChange",(function(e){return t.userEditing.userType=e})),b.Sb(18,"option",11),b.Jc(19),b.Rb(),b.Sb(20,"option",11),b.Jc(21),b.Rb(),b.Sb(22,"option",11),b.Jc(23),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(24,"div",9),b.Sb(25,"label"),b.Jc(26,"Scope of Access"),b.Rb(),b.Hc(27,w,4,4,"select",12),b.Rb(),b.Sb(28,"div",13),b.Sb(29,"button",14),b.ac(30,R),b.Hc(31,E,2,0,"i",15),b.Yb(),b.Rb(),b.Sb(32,"button",16),b.fc("click",(function(){return t.cancelEditLiveStream()})),b.Wb(33,h),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()}2&e&&(b.Bb(8),b.qc("ngModel",t.changePassword),b.Bb(3),b.qc("ngIf",t.changePassword),b.Bb(1),b.qc("ngIf",t.changePassword),b.Bb(5),b.qc("name","UserType")("ngModel",t.userEditing.userType),b.Bb(1),b.rc("value",t.AdminUserType),b.Bb(1),b.Kc(t.AdminUserType),b.Bb(1),b.rc("value",t.BasicUserType),b.Bb(1),b.Kc(t.BasicUserType),b.Bb(1),b.rc("value",t.ReadOnlyUserType),b.Bb(1),b.Kc(t.ReadOnlyUserType),b.Bb(4),b.qc("ngIf",t.applications),b.Bb(2),b.qc("disabled",t.userUpdating),b.Bb(2),b.qc("ngIf",t.userUpdating))},directives:[d.x,d.l,d.m,d.a,d.k,d.n,u.o,d.u,d.t,d.o,d.w,d.d,d.g,f,u.n],encapsulation:2}),e})();i("4XzM"),i("S7rW");var I=i("tk/3"),L=i("tyNb"),B=i("Qu3c");const M=["sslConfigurationSelect"],U=["class","settings"];var q,N,x,A,O,P,_,D;function F(e,t){1&e&&(b.Sb(0,"div",24),b.Sb(1,"p",37),b.Nb(2,"i",38),b.Jc(3," Please wait.."),b.Rb(),b.Rb())}function J(e,t){if(1&e&&(b.Sb(0,"div",24),b.Sb(1,"p",37),b.Nb(2,"i",39),b.Jc(3),b.Rb(),b.Sb(4,"small",40),b.Jc(5),b.Rb(),b.Rb()),2&e){const e=b.jc(3);b.Bb(3),b.Lc(" ",e.licenseStatus," "),b.Bb(2),b.Kc(e.licenseStatusExplaination)}}function j(e,t){if(1&e&&(b.Sb(0,"div",24),b.Sb(1,"p",37),b.Nb(2,"i",38),b.Jc(3),b.Rb(),b.Rb()),2&e){const e=b.jc(3);b.Bb(3),b.Lc(" ",e.licenseStatus,"..")}}function k(e,t){if(1&e&&(b.Sb(0,"div",24),b.Sb(1,"p",37),b.Nb(2,"i",41),b.Jc(3),b.Rb(),b.Rb()),2&e){const e=b.jc(3);b.Bb(3),b.Nc(" Owner : ",e.currentLicence.owner," | Until : ",e.currentLicence.endDate," ",e._messageReceived,"")}}function z(e,t){if(1&e&&(b.Sb(0,"div",35),b.Sb(1,"label",23),b.Jc(2,"License Status"),b.Rb(),b.Hc(3,F,4,0,"div",36),b.Hc(4,J,6,2,"div",36),b.Hc(5,j,4,1,"div",36),b.Hc(6,k,4,3,"div",36),b.Rb()),2&e){const e=b.jc(2);b.Bb(3),b.qc("ngIf",e.licenseStatusReceiving),b.Bb(1),b.qc("ngIf",!e.licenseStatusReceiving&&("Invalid"===e.licenseStatus||"Suspended"===e.licenseStatus||"Expired"===e.licenseStatus||"Trial expired"===e.licenseStatus)),b.Bb(1),b.qc("ngIf",!e.licenseStatusReceiving&&"Getting license status"===e.licenseStatus),b.Bb(1),b.qc("ngIf",!e.licenseStatusReceiving&&"Valid"===e.licenseStatus)}}function H(e,t){if(1&e){const e=b.Tb();b.Sb(0,"fieldset"),b.Sb(1,"div",22),b.Sb(2,"label",23),b.Jc(3,"License Key"),b.Rb(),b.Sb(4,"div",42),b.Sb(5,"input",43,44),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc(2).serverSettings.licenceKey=t})),b.Rb(),b.Sb(7,"small",45),b.Wb(8,A),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){const e=b.xc(6);b.jc();const t=b.xc(3),i=b.jc();b.Bb(5),b.qc("ngModel",i.serverSettings.licenceKey),b.Bb(2),b.qc("hidden",e.valid||!t.submitted)}}function K(e,t){if(1&e&&(b.Sb(0,"fieldset"),b.Sb(1,"div",22),b.Sb(2,"label",23),b.Jc(3,"Hour Used "),b.Sb(4,"a",46),b.Nb(5,"i",47),b.Rb(),b.Rb(),b.Sb(6,"div",42),b.Sb(7,"p",37),b.Nb(8,"i",48),b.Jc(9),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){const e=b.jc(2);b.Bb(4),b.sc("href","https://license.antmedia.io/?licenseId=",e.serverSettings.licenceKey,"",b.Ac),b.Bb(5),b.Lc(" ",e.currentLicence.hourUsed," ")}}function W(e,t){1&e&&(b.Sb(0,"p"),b.Jc(1," The Ant Media Server Enterprise Marketplace Edition is all set - no license activation required. Enjoy! "),b.Rb())}function Y(e,t){1&e&&(b.Sb(0,"p"),b.Jc(1," This is the Ant Media Server Community Edition - no license activation required. Enjoy! "),b.Rb())}function Q(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",27),b.Sb(1,"div"),b.Sb(2,"form",28,29),b.fc("ngSubmit",(function(){b.zc(e);const t=b.xc(3);return b.jc().changeServerSettings(t.valid)})),b.Sb(4,"fieldset"),b.Hc(5,z,7,4,"div",30),b.Rb(),b.Hc(6,H,9,2,"fieldset",26),b.Sb(7,"fieldset"),b.Sb(8,"div",22),b.Sb(9,"label",23),b.Jc(10,"Log Status"),b.Rb(),b.Sb(11,"div",24),b.Sb(12,"select",31),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().logLevelChanged(t)}))("ngModelChange",(function(t){return b.zc(e),b.jc().serverSettings.logLevel=t})),b.Sb(13,"option",32),b.Jc(14),b.Rb(),b.Sb(15,"option",32),b.Jc(16),b.Rb(),b.Sb(17,"option",32),b.Jc(18),b.Rb(),b.Sb(19,"option",32),b.Jc(20),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Hc(21,K,10,2,"fieldset",26),b.Sb(22,"fieldset"),b.Sb(23,"div",33),b.Sb(24,"button",34),b.Wb(25,x),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Hc(26,W,2,0,"p",26),b.Hc(27,Y,2,0,"p",26),b.Rb()}if(2&e){const e=b.jc();b.Bb(5),b.qc("ngIf",!e.serverSettings.buildForMarket&&e.isEnterpriseEdition),b.Bb(1),b.qc("ngIf",!e.serverSettings.buildForMarket&&e.isEnterpriseEdition),b.Bb(6),b.qc("name","resolutionHeight")("ngModel",e.serverSettings.logLevel),b.Bb(1),b.rc("value",e.logLevelInfo),b.Bb(1),b.Kc(e.logLevelInfo),b.Bb(1),b.rc("value",e.logLevelWarn),b.Bb(1),b.Kc(e.logLevelWarn),b.Bb(1),b.rc("value",e.logLevelError),b.Bb(1),b.Kc(e.logLevelError),b.Bb(1),b.rc("value",e.logLevelOff),b.Bb(1),b.Kc(e.logLevelOff),b.Bb(1),b.qc("ngIf",e.isEnterpriseEdition&&!e.serverSettings.buildForMarket&&"hourly"===e.currentLicence.type),b.Bb(5),b.qc("ngIf",e.isEnterpriseEdition&&e.serverSettings.buildForMarket),b.Bb(1),b.qc("ngIf",!e.isEnterpriseEdition)}}function G(e,t){if(1&e){const e=b.Tb();b.Sb(0,"button",49),b.fc("click",(function(){return b.zc(e),b.jc().newUser()})),b.Wb(1,O),b.Rb()}}q=$localize`:licence key settings licence | @@LicenceTabHeader␟39d434c3e1e0988a1585ca45293147f1ffc504c8␟5385767692216459316:General `,N=$localize`:user settings |log@@LogTabHeader␟c788cac76d243927421aae8cc4e9a73d102e39b6␟4832842301452906736:Users`,x=$localize`:@@saveForm␟52c9a103b812f258bcddc3d90a6e3f46871d25fe␟3768927257183755959:Save`,A=$localize`:@@broadcastNameIsRequired␟2935f254a8da07a44a156de5a0a9e7fcde26af92␟1710446914149843457: License key should be at least 4 characters. `,O=$localize`:@@newUserButton␟a97864c21cd0327003f0b0aa23e426f7c8a9857f␟2750332368858308630:New User `,P=$localize`:@@registerUserFullName␟96a5e3b178d6eab5b55ac3c4eafb542d4042324c␟7209368475121981189:First Name${"\ufffd#10\ufffd"}:START_TAG_SPAN:*${"\ufffd/#10\ufffd"}:CLOSE_TAG_SPAN:`,_=$localize`:@@registerUserFullName␟cc5cd1e1a1cff588a65560a1a573f7f283740b06␟5065475369645510341:Last Name${"\ufffd#18\ufffd"}:START_TAG_SPAN:*${"\ufffd/#18\ufffd"}:CLOSE_TAG_SPAN:`,D=$localize`:@@newPassword␟c1b7e6d75ff4285c7636c67e5ef259629b81725b␟3241357959735682038:Confirm Password`;const X=["placeholder",$localize`:@@password_place_holder␟c32ef07f8803a223a83ed17024b38e8d82292407␟1431416938026210429:Password`];var V,Z;function ee(e,t){if(1&e&&(b.Sb(0,"option"),b.Jc(1),b.Rb()),2&e){const e=t.$implicit;b.Bb(1),b.Lc(" ",e," ")}}function te(e,t){1&e&&(b.ac(0,Z,1),b.Nb(1,"i",38),b.Yb())}function ie(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",4),b.Sb(1,"form",50,29),b.fc("ngSubmit",(function(){b.zc(e);const t=b.xc(2);return b.jc().createUser(t.valid)})),b.Sb(3,"div",51),b.Sb(4,"h4",52),b.Jc(5," New User "),b.Rb(),b.Rb(),b.Sb(6,"div",53),b.Sb(7,"div",22),b.Sb(8,"label"),b.ac(9,P),b.Nb(10,"span",54),b.Yb(),b.Rb(),b.Sb(11,"input",55,56),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().User.firstName=t})),b.Rb(),b.Sb(13,"small",45),b.Jc(14," First name is required "),b.Rb(),b.Rb(),b.Sb(15,"div",35),b.Sb(16,"label"),b.ac(17,_),b.Nb(18,"span",54),b.Yb(),b.Rb(),b.Sb(19,"input",57,58),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().User.lastName=t})),b.Rb(),b.Sb(21,"small",45),b.Jc(22," Last name is required "),b.Rb(),b.Rb(),b.Sb(23,"div",35),b.Sb(24,"label"),b.Jc(25,"Username (E-mail)"),b.Rb(),b.Sb(26,"input",59,60),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().User.email=t})),b.Rb(),b.Sb(28,"small",45),b.Jc(29," E-mail is required in correct form. "),b.Rb(),b.Rb(),b.Sb(30,"div",35),b.Sb(31,"label"),b.Jc(32,"Password"),b.Rb(),b.Sb(33,"input",61,62),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().User.password=t})),b.Rb(),b.Sb(35,"small",45),b.Jc(36," Password should be at least 6 characters. "),b.Rb(),b.Rb(),b.Sb(37,"div",35),b.Sb(38,"label"),b.Wb(39,D),b.Rb(),b.Sb(40,"input",63,64),b.Xb(42,X),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().confirmPasswordModel=t})),b.Rb(),b.Sb(43,"small",45),b.Jc(44," Passwords should match "),b.Rb(),b.Rb(),b.Sb(45,"div",35),b.Sb(46,"label"),b.Jc(47,"User type \xa0"),b.Nb(48,"i",65),b.Rb(),b.Sb(49,"select",31),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().User.userType=t})),b.Sb(50,"option",32),b.Jc(51),b.Rb(),b.Sb(52,"option",32),b.Jc(53),b.Rb(),b.Sb(54,"option",32),b.Jc(55),b.Rb(),b.Rb(),b.Rb(),b.Sb(56,"div",35),b.Sb(57,"label"),b.Jc(58,"Scope of Access \xa0"),b.Nb(59,"i",66),b.Rb(),b.Sb(60,"select",31),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().User.scope=t})),b.Sb(61,"option",32),b.Jc(62,"Everything"),b.Rb(),b.Hc(63,ee,2,1,"option",67),b.Rb(),b.Rb(),b.Sb(64,"div",33),b.Sb(65,"button",68),b.ac(66,Z),b.Hc(67,te,2,0,"i",69),b.Yb(),b.Rb(),b.Sb(68,"button",70),b.fc("click",(function(){return b.zc(e),b.jc().cancelNewUser()})),b.Wb(69,V),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){const e=b.xc(2),t=b.xc(12),i=b.xc(20),n=b.xc(27),s=b.xc(34),c=b.xc(41),a=b.jc();b.Bb(11),b.qc("ngModel",a.User.firstName),b.Bb(2),b.qc("hidden",t.valid||t.pristine&&!e.submitted),b.Bb(6),b.qc("ngModel",a.User.lastName),b.Bb(2),b.qc("hidden",i.valid||i.pristine&&!e.submitted),b.Bb(5),b.qc("ngModel",a.User.email),b.Bb(2),b.qc("hidden",n.valid||n.pristine&&!e.submitted),b.Bb(5),b.qc("ngModel",a.User.password),b.Bb(2),b.qc("hidden",s.valid||s.pristine&&!e.submitted),b.Bb(5),b.qc("ngModel",a.confirmPasswordModel),b.Bb(3),b.qc("hidden",c.valid||!e.submitted),b.Bb(6),b.qc("name","UserType")("ngModel",a.User.userType),b.Bb(1),b.rc("value",a.AdminUserType),b.Bb(1),b.Kc(a.AdminUserType),b.Bb(1),b.rc("value",a.BasicUserType),b.Bb(1),b.Kc(a.BasicUserType),b.Bb(1),b.rc("value",a.ReadOnlyUserType),b.Bb(1),b.Kc(a.ReadOnlyUserType),b.Bb(5),b.qc("name","ApplicationPermission")("ngModel",a.User.scope),b.Bb(1),b.rc("value",a.SYSTEM_SCOPE_OF_ACCESS),b.Bb(2),b.qc("ngForOf",a.applications.applications),b.Bb(2),b.qc("disabled",a.newUserCreating),b.Bb(2),b.qc("ngIf",a.newUserCreating)}}function ne(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",71),b.Sb(1,"div",72),b.Sb(2,"input",73),b.fc("keyup",(function(t){return b.zc(e),b.jc().applyFilter(t.target.value)})),b.Rb(),b.Rb(),b.Rb()}}function se(e,t){1&e&&(b.Sb(0,"mat-header-cell",87),b.Jc(1,"Username"),b.Rb()),2&e&&b.qc("ngClass","email-column")}function ce(e,t){1&e&&(b.Qb(0),b.Jc(1," [No Name] "),b.Pb())}function ae(e,t){if(1&e&&(b.Sb(0,"mat-cell",88),b.Sb(1,"div",89),b.Jc(2),b.Hc(3,ce,2,0,"ng-container",26),b.Rb(),b.Rb()),2&e){const e=t.$implicit;b.qc("ngClass","email-column"),b.Bb(2),b.Lc(" ",e.email," "),b.Bb(1),b.qc("ngIf",!e.email||0==e.email.length)}}function re(e,t){1&e&&(b.Sb(0,"mat-header-cell",87),b.Jc(1," User Type \xa0"),b.Nb(2,"i",65),b.Rb()),2&e&&b.qc("ngClass","type-column")}function le(e,t){if(1&e&&(b.Sb(0,"mat-cell",88),b.Sb(1,"div",89),b.Jc(2),b.Rb(),b.Rb()),2&e){const e=t.$implicit;b.qc("ngClass","type-column"),b.Bb(2),b.Lc(" ",e.userType," ")}}function oe(e,t){1&e&&(b.Sb(0,"mat-header-cell",87),b.Jc(1," Scope of Access \xa0"),b.Nb(2,"i",66),b.Rb()),2&e&&b.qc("ngClass","permissions-column")}function be(e,t){1&e&&(b.Qb(0),b.Jc(1," Everything "),b.Pb())}function de(e,t){1&e&&(b.Qb(0),b.Jc(1," Everything "),b.Pb())}function ue(e,t){if(1&e&&(b.Qb(0),b.Jc(1),b.Pb()),2&e){const e=b.jc().$implicit;b.Bb(1),b.Lc(" ",e.scope," ")}}function fe(e,t){if(1&e&&(b.Sb(0,"mat-cell",88),b.Sb(1,"div",89),b.Qb(2,90),b.Hc(3,be,2,0,"ng-container",91),b.Hc(4,de,2,0,"ng-container",91),b.Hc(5,ue,2,1,"ng-container",92),b.Pb(),b.Rb(),b.Rb()),2&e){const e=t.$implicit;b.qc("ngClass","permissions-column"),b.Bb(2),b.qc("ngSwitch",e.scope),b.Bb(1),b.qc("ngSwitchCase","system")}}function ge(e,t){1&e&&(b.Sb(0,"mat-header-cell",93),b.Jc(1," Actions "),b.Rb())}function he(e,t){if(1&e){const e=b.Tb();b.Sb(0,"mat-cell",93),b.Sb(1,"button",94),b.fc("click",(function(){b.zc(e);const i=t.$implicit;return b.jc(2).changeType(i)})),b.Sb(2,"span",95),b.Nb(3,"i",96),b.Rb(),b.Ob(4),b.Rb(),b.Sb(5,"button",97),b.fc("click",(function(){b.zc(e);const i=t.$implicit;return b.jc(2).deleteUser(i.email)})),b.Sb(6,"span",95),b.Nb(7,"i",98),b.Rb(),b.Rb(),b.Rb()}}function pe(e,t){1&e&&b.Nb(0,"mat-header-row")}function Se(e,t){1&e&&b.Nb(0,"mat-row")}function me(e,t){if(1&e&&(b.Sb(0,"div",74),b.Sb(1,"div",75),b.Sb(2,"mat-table",76),b.Qb(3,77),b.Hc(4,se,2,1,"mat-header-cell",78),b.Hc(5,ae,4,3,"mat-cell",79),b.Pb(),b.Qb(6,80),b.Hc(7,re,3,1,"mat-header-cell",78),b.Hc(8,le,3,2,"mat-cell",79),b.Pb(),b.Qb(9,81),b.Hc(10,oe,3,1,"mat-header-cell",78),b.Hc(11,fe,6,3,"mat-cell",79),b.Pb(),b.Qb(12,82),b.Hc(13,ge,2,0,"mat-header-cell",83),b.Hc(14,he,8,0,"mat-cell",84),b.Pb(),b.Hc(15,pe,1,0,"mat-header-row",85),b.Hc(16,Se,1,0,"mat-row",86),b.Rb(),b.Rb(),b.Rb()),2&e){const e=b.jc();b.Bb(2),b.qc("dataSource",e.dataSource),b.Bb(13),b.qc("matHeaderRowDef",e.displayedColumnsStreams),b.Bb(1),b.qc("matRowDefColumns",e.displayedColumnsStreams)}}function ve(e,t){1&e&&(b.Sb(0,"p",37),b.Nb(1,"i",99),b.Jc(2," Inactive"),b.Rb())}function Re(e,t){if(1&e&&(b.Qb(0),b.Jc(1," | "),b.Sb(2,"a",101),b.Jc(3),b.Rb(),b.Pb()),2&e){const e=b.jc(2);b.Bb(2),b.qc("href",e.getDomainAsHttpsLink(),b.Ac),b.Bb(1),b.Kc(e.getDomainAsHttpsLink())}}function ye(e,t){if(1&e){const e=b.Tb();b.Qb(0),b.Jc(1," | "),b.Sb(2,"button",102),b.fc("click",(function(){return b.zc(e),b.jc(2).openSSLForm()})),b.Jc(3,"Change SSL"),b.Rb(),b.Pb()}}function Ce(e,t){if(1&e&&(b.Sb(0,"p",37),b.Nb(1,"i",100),b.Jc(2," Active "),b.Hc(3,Re,4,2,"ng-container",26),b.Hc(4,ye,4,0,"ng-container",26),b.Rb()),2&e){const e=b.jc();b.Bb(3),b.qc("ngIf",e.serverSettings.sslEnabled&&""!==e.serverSettings.serverName),b.Bb(1),b.qc("ngIf",e.serverSettings.sslEnabled)}}function we(e,t){if(1&e&&(b.Sb(0,"option",32),b.Jc(1),b.Rb()),2&e){const e=b.jc(2);b.rc("value",e.getSslConfigurationTypeName(e.ConfigurationTypes.ANTMEDIA_SUBDOMAIN)),b.Bb(1),b.Kc(e.ConfigurationTypes.ANTMEDIA_SUBDOMAIN)}}function Ee(e,t){if(1&e&&(b.Sb(0,"option",108),b.Jc(1),b.Rb()),2&e){const e=b.jc(2);b.rc("value",e.getSslConfigurationTypeName(e.ConfigurationTypes.ANTMEDIA_SUBDOMAIN)),b.Bb(1),b.Lc("",e.ConfigurationTypes.ANTMEDIA_SUBDOMAIN," - Enterprise License Required")}}function Te(e,t){1&e&&(b.Sb(0,"div",24),b.Sb(1,"p",37),b.Jc(2,"Subdomain of antmedia.cloud will be automatically allocated for you"),b.Rb(),b.Rb())}function Ie(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div",24),b.Sb(1,"input",109,110),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc(2).fqdn=t})),b.Rb(),b.Rb()}if(2&e){const e=b.jc(2);b.Bb(1),b.qc("ngModel",e.fqdn)}}function Le(e,t){if(1&e){const e=b.Tb();b.Sb(0,"div"),b.Sb(1,"fieldset"),b.Sb(2,"div",22),b.Sb(3,"div"),b.Sb(4,"label",23),b.Jc(5,"Full Chain File(.crt or .pem)"),b.Rb(),b.Sb(6,"div",111),b.Sb(7,"input",112,113),b.fc("change",(function(t){return b.zc(e),b.jc(2).handleSslCertificateFileInput(t)})),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(9,"fieldset"),b.Sb(10,"div",22),b.Sb(11,"div"),b.Sb(12,"label",23),b.Jc(13,"Key File(.key or .pem)"),b.Rb(),b.Sb(14,"div",111),b.Sb(15,"input",114,113),b.fc("change",(function(t){return b.zc(e),b.jc(2).handleSslCertificateFileInput(t)})),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(17,"fieldset"),b.Sb(18,"div",22),b.Sb(19,"div"),b.Sb(20,"label",23),b.Jc(21,"Chain File(.crt or .pem)"),b.Rb(),b.Sb(22,"div",111),b.Sb(23,"input",115,113),b.fc("change",(function(t){return b.zc(e),b.jc(2).handleSslCertificateFileInput(t)})),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()}}function Be(e,t){1&e&&b.Nb(0,"i",116)}function Me(e,t){if(1&e){const e=b.Tb();b.Qb(0),b.Sb(1,"fieldset"),b.Sb(2,"div",22),b.Sb(3,"label",23),b.Jc(4,"Type"),b.Rb(),b.Sb(5,"div",24),b.Sb(6,"select",31,103),b.fc("ngModelChange",(function(t){return b.zc(e),b.jc().sslConfigurationChanged(t)}))("ngModelChange",(function(t){return b.zc(e),b.jc().sslConfType=t})),b.Sb(8,"option",32),b.Jc(9),b.Rb(),b.Hc(10,we,2,2,"option",104),b.Hc(11,Ee,2,2,"option",105),b.Sb(12,"option",32),b.Jc(13),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(14,"div",22),b.Sb(15,"fieldset"),b.Sb(16,"label",23),b.Jc(17,"Domain (FQDN)"),b.Rb(),b.Hc(18,Te,3,0,"div",36),b.Hc(19,Ie,3,1,"div",36),b.Rb(),b.Rb(),b.Hc(20,Le,25,0,"div",26),b.Sb(21,"fieldset"),b.Sb(22,"div",33),b.Sb(23,"button",106),b.fc("click",(function(){return b.zc(e),b.jc().configureSsl()})),b.Hc(24,Be,1,0,"i",107),b.Jc(25,"Activate "),b.Rb(),b.Rb(),b.Rb(),b.Pb()}if(2&e){const e=b.jc();b.Bb(6),b.qc("name","configurationType")("ngModel",e.sslConfType),b.Bb(2),b.rc("value",e.getSslConfigurationTypeName(e.ConfigurationTypes.CUSTOM_DOMAIN)),b.Bb(1),b.Kc(e.ConfigurationTypes.CUSTOM_DOMAIN),b.Bb(1),b.qc("ngIf","Valid"==e.licenseStatus),b.Bb(1),b.qc("ngIf","Valid"!=e.licenseStatus),b.Bb(1),b.rc("value",e.getSslConfigurationTypeName(e.ConfigurationTypes.CUSTOM_CERTIFICATE)),b.Bb(1),b.Kc(e.ConfigurationTypes.CUSTOM_CERTIFICATE),b.Bb(5),b.qc("ngIf",e.sslConfType==e.getSslConfigurationTypeName(e.ConfigurationTypes.ANTMEDIA_SUBDOMAIN)),b.Bb(1),b.qc("ngIf",e.sslConfType==e.getSslConfigurationTypeName(e.ConfigurationTypes.CUSTOM_DOMAIN)||e.sslConfType==e.getSslConfigurationTypeName(e.ConfigurationTypes.CUSTOM_CERTIFICATE)),b.Bb(1),b.qc("ngIf",e.sslConfType==e.getSslConfigurationTypeName(e.ConfigurationTypes.CUSTOM_CERTIFICATE)),b.Bb(3),b.qc("disabled",!e.configureSslEnabled),b.Bb(1),b.qc("ngIf",!e.configureSslEnabled)}}V=$localize`:@@newUserCancelButton␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,Z=$localize`:@@newUserCreateButton␟38a26d7db25acc2c4f8cd99a4c25ffdf833e450a␟7931405919512135267:${"\ufffd*67:1\ufffd\ufffd#1:1\ufffd"}:START_ITALIC_TEXT:${"\ufffd/#1:1\ufffd\ufffd/*67:1\ufffd"}:CLOSE_ITALIC_TEXT:Create`;let Ue=(()=>{class e{constructor(e,t,i,n,s,a,r,l){this.http=e,this.route=t,this.restService=i,this.dialog=n,this.cdr=s,this.router=a,this.dataService=r,this.authService=l,this.httpsPort=5443,this.crtFileExtension="crt",this.keyFileExtension="key",this.pemFileExtension="pem",this.settingsReceived=!1,this.licenseStatus="Getting license status",this.licenseStatusReceiving=!1,this.configureSslEnabled=!0,this.displayWarning=!0,this.isEnterpriseEdition=!1,this.logLevelInfo="INFO",this.logLevelWarn="WARN",this.logLevelError="ERROR",this.logLevelOff="OFF",this.newUserCreating=!1,this.AdminUserType="ADMIN",this.ReadOnlyUserType="READ_ONLY",this.BasicUserType="USER",this.SYSTEM_SCOPE_OF_ACCESS="system",this.displayedColumnsStreams=["email","type","permissions","actions"],this.userListOffset=0,this.pageSize=0,this.userNameEmpty=!1,this.filter="",this.allLicensesUsedError="ALL_LICENSES_ARE_USED",this.noLicenseFounrError="NO_LICENSE_FOUND",this.licenseExpireError="LICENSE_EXPIRED",this.licenseServerRequestError="serverRequestError",this.invalidKeyError="INVALID_KEY",this.licenseBlocked="LICENSE_BLOCKED",this.TRIAL_PERIOD_ENDED="TRIAL_PERIOD_ENDED",this.userRole=localStorage.getItem(c.c).toUpperCase(),this.sslFormActive=!1}get messageReceived(){return this._messageReceived}set messageReceived(e){this._messageReceived=e}ngOnInit(){this.sslConfType=this.getSslConfigurationTypeName(n.d.CUSTOM_DOMAIN),this.serverSettings=new n.c("",null,!1,this.logLevelInfo,!1),this.currentLicence=new n.b(null,null,null,null,null,null,null),this.callTimer(),this.userDataTable={dataRows:[]},this.restService.getApplications().subscribe(e=>{this.applications=e,console.debug(e)},e=>{Object(a.g)(e)})}ngAfterViewInit(){this.restService.isEnterpriseEdition().subscribe(e=>{this.isEnterpriseEdition=e.success,this.getServerSettings()},e=>{Object(a.g)(e)}),this.getUserList(this.userListOffset,this.pageSize)}ngOnDestroy(){this.clearTimer()}logLevelChanged(e){e==this.logLevelInfo&&(this.serverSettings.logLevel=this.logLevelInfo),e==this.logLevelWarn&&(this.serverSettings.logLevel=this.logLevelWarn),e==this.logLevelError&&(this.serverSettings.logLevel=this.logLevelError),e==this.logLevelOff&&(this.serverSettings.logLevel=this.logLevelOff)}getSslConfigurationTypeName(e){return Object.keys(n.d).find(t=>n.d[t]===e)}sslConfigurationChanged(e){this.sslConfType=e}openSSLForm(){this.sslFormActive=!0}handleSslCertificateFileInput(e){return t=this,void 0,n=function*(){var t=e.target.files[0];switch(e.target.id.toString()){case"fullChainFileInput":this.fullChainFile=t;break;case"keyFileInput":this.privateKeyFile=t;break;case"chainFileInput":this.chainFile=t}},new((i=void 0)||(i=Promise))((function(e,s){function c(e){try{r(n.next(e))}catch(t){s(t)}}function a(e){try{r(n.throw(e))}catch(t){s(t)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(c,a)}r((n=n.apply(t,[])).next())}));var t,i,n}applyFilter(e){e=(e=e.trim()).toLowerCase(),this.filter=e,this.dataSource.filter=e}changeType(e){e.email!=localStorage.getItem(c.b)?this.dialog.open(T,{data:{email:e.email,type:e.userType,scope:e.scope},width:"400px"}).afterClosed().subscribe(e=>{console.log("The dialog was closed"),this.getUserList(this.userListOffset,this.pageSize)}):$.notify({icon:"ti-alert",message:"You cannot edit yourself. If you want to change password, use the Change Password on the right top menu"},{type:"warning",delay:4e3,placement:{from:"top",align:"right"}})}getUserList(e,t){this.restService.getUsers().subscribe(e=>{for(var t in this.userDataTable.dataRows=[],e){var i=[];for(var n in e[t].endPointList)i.push(e[t].endPointList[n]);this.userDataTable.dataRows.push(e[t])}this.dataSource=new l.k(this.userDataTable.dataRows),""==this.filter&&null==this.filter&&null==this.filter||(this.dataSource.filter=this.filter),this.cdr.detectChanges()},e=>{Object(a.g)(e)})}callTimer(){console.log("Timer Started"),this.clearTimer(),this.timerId=window.setInterval(()=>{this.authService.isAuthenticated&&this.getUserList(this.userListOffset,this.pageSize)},15e3)}clearTimer(){clearInterval(this.timerId),this.timerId=null}getLastLicenseStatus(){this.isEnterpriseEdition&&(this.licenseStatusReceiving=!0,this.restService.getLastLicenseStatus().subscribe(e=>{this.licenseStatusReceiving=!1,this.evaluateLicenseStatus(e)},e=>{Object(a.g)(e)}))}getLicenseStatus(){return this.licenseStatusReceiving=!0,this.isEnterpriseEdition&&(this.serverSettings.licenceKey=this.serverSettings.licenceKey.trim(),this.restService.getLicenseStatus(this.serverSettings.licenceKey).subscribe(e=>{this.licenseStatusReceiving=!1,this.evaluateLicenseStatus(e)},e=>{Object(a.g)(e)})),this.currentLicence}evaluateLicenseStatus(e){var t="Invalid License";if(this.licenseStatusExplaination="Please validate your license",null!=e&&(this.currentLicence=e),null==this.currentLicence||null==this.currentLicence.licenceId)this.licenseStatus="Invalid",console.log("invalid license"),this.currentLicence.status==this.licenseServerRequestError?(t="Could Not Connect To License Server",this.licenseStatus="Network is unaccessible",this.licenseStatusExplaination="Please check your connection"):this.currentLicence.status==this.licenseExpireError?(this.licenseStatus="Expired",this.licenseStatusExplaination="Your license is expired, please renew your license at antmedia.io"):this.currentLicence.status==this.invalidKeyError||this.currentLicence.status==this.noLicenseFounrError?this.licenseStatusExplaination="Your license key is invalid":this.currentLicence.status==this.licenseBlocked?(this.licenseStatus="Suspended",this.licenseStatusExplaination="Your license is suspended. Please renew your license at antmedia.io"):this.currentLicence.status==this.allLicensesUsedError?this.licenseStatusExplaination="You have reached your licence limit. Please close some of your running instances":this.currentLicence.status==this.TRIAL_PERIOD_ENDED&&(this.licenseStatus="Trial expired",this.licenseStatusExplaination="Your trial period is expired. Please buy a license at antmedia.io or extend your trial"),this.authService.licenceWarningDisplay&&!this.serverSettings.buildForMarket&&swal({title:t,text:this.licenseStatusExplaination,type:"error",confirmButtonColor:"#3085d6",confirmButtonText:"OK",onClose:function(){}}).then(()=>{}).catch((function(){}));else{this.licenseStatus="Valid",this.authService.licenceWarningDisplay=!1;let e=this.currentLicence.endDate;this.leftDays=this.differenceInDays((new Date).getTime(),new Date(e).getTime()),this.leftDays<16&&this.authService.licenceWarningDisplay&&(console.log("Your license expires in "+this.leftDays+" days"),swal({title:"Your license expires in "+this.leftDays+" days",text:"Please Renew Your License ",type:"info",confirmButtonColor:"#3085d6",confirmButtonText:"OK",onClose:function(){}}).then(()=>{}).catch((function(){})),this.authService.licenceWarningDisplay=!1)}}changeServerSettings(e){e&&!this.serverSettings.buildForMarket&&this.isEnterpriseEdition&&(console.log(this.serverSettings),this.restService.changeServerSettings(this.serverSettings).subscribe(e=>{1==e.success?($.notify({icon:"ti-save",message:s.a.getLocaleInterface().license_saved},{type:"success",delay:900,placement:{from:"top",align:"right"}}),this.authService.serverSettings=this.serverSettings,this.authService.licenceWarningDisplay=!0,this.serverSettings.buildForMarket||this.getLicenseStatus()):$.notify({icon:"ti-alert",message:s.a.getLocaleInterface().settings_not_saved},{type:"warning",delay:1900,placement:{from:"top",align:"right"}})},e=>{Object(a.g)(e)}))}newUser(){this.newUserActive=!0,this.userNameEmpty=!1,this.User=new a.f("","")}isValidDomain(e){let t=new RegExp(/^(?!-)[A-Za-z0-9-]+([\-\.]{1}[a-z0-9]+)*\.[A-Za-z]{2,}$/);return null!=e&&!!t.test(e)}getDomainAsHttpsLink(){return"https://"+this.serverSettings.serverName+":"+this.httpsPort}certificateFilesReady(){return null!=this.fullChainFile&&null!=this.chainFile&&null!=this.privateKeyFile}configureSsl(){this.sslConfType!=this.getSslConfigurationTypeName(n.d.CUSTOM_DOMAIN)&&this.sslConfType!=this.getSslConfigurationTypeName(n.d.CUSTOM_CERTIFICATE)||this.isValidDomain(this.fqdn)?this.sslConfType!=this.getSslConfigurationTypeName(n.d.CUSTOM_CERTIFICATE)||this.certificateFilesReady()?swal({title:"Confirmation",text:"Server will be restarted automatically after this operaiton",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Proceed"}).then(()=>{$.notify({icon:"ti-info",message:"SSL configuration has started. Please wait a minute..."},{type:"info",delay:5e3,placement:{from:"top",align:"right"}}),this.configureSslEnabled=!1;let e=new FormData;e.append("fullChainFile",this.fullChainFile),e.append("privateKeyFile",this.privateKeyFile),e.append("chainFile",this.chainFile),this.restService.changeSslSettings(this.fqdn,this.sslConfType,e).subscribe(e=>{$.notify({icon:"ti-info",message:"SSL configuration completed. Please refresh the page and login again."},{type:"success",delay:3500,placement:{from:"top",align:"right"}})},e=>{console.log("SSL problem"),console.log(e),this.configureSslEnabled=!0})}).catch((function(){})):alert("Please enter certificate files"):alert("Please enter a valid domain.")}cancelNewUser(){this.newUserActive=!1}deleteUser(e){localStorage.getItem(c.b)!=e?swal({title:s.a.getLocaleInterface().are_you_sure,text:s.a.getLocaleInterface().wont_be_able_to_revert,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{this.restService.deleteUser(e).subscribe(e=>{1==e.success?$.notify({icon:"ti-save",message:"Successfully deleted"},{type:"success",delay:900,placement:{from:"top",align:"right"}}):$.notify({icon:"ti-alert",message:"User is not deleted"},{type:"warning",delay:900,placement:{from:"top",align:"right"}}),this.getUserList(this.userListOffset,this.pageSize)},e=>{Object(a.g)(e)})}):$.notify({icon:"ti-save",message:"You cannot delete yourself"},{type:"warning",delay:900,placement:{from:"top",align:"right"}})}get ConfigurationTypes(){return n.d}createUser(e){console.log("create user called"),this.userNameEmpty=!1,e?(console.log("create user called 2"),this.restService.checkStreamName(this.User.email)?(console.log("create user called 3"),this.newUserCreating=!0,this.restService.createUser(this.User).subscribe(e=>{console.log("data :"+JSON.stringify(e)),1==e.success?(this.newUserActive=!1,$.notify({icon:"ti-save",message:s.a.getLocaleInterface().new_user_created},{type:"success",delay:900,placement:{from:"top",align:"right"}}),this.getUserList(this.userListOffset,this.pageSize),this.User.fullName=""):$.notify({icon:"ti-alert",message:"User is not created. "+e.message},{type:"warning",delay:900,placement:{from:"top",align:"right"}})},e=>{Object(a.g)(e)}),this.newUserCreating=!1):this.userNameEmpty=!0):console.log("Form is not valid")}getServerSettings(){this.restService.getServerSettings().subscribe(e=>{this.serverSettings=e,console.log(this.serverSettings),this.settingsReceived=!0,this.sslFormActive=!this.serverSettings.sslEnabled,this.serverSettings.buildForMarket||this.getLastLicenseStatus()},e=>{Object(a.g)(e)})}differenceInDays(e,t){return Math.round((t-e)/864e5)}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(I.b),b.Mb(L.a),b.Mb(a.e),b.Mb(o.b),b.Mb(b.h),b.Mb(L.c),b.Mb(r.a),b.Mb(c.a))},e.\u0275cmp=b.Gb({type:e,selectors:[["server",8,"settings"]],viewQuery:function(e,t){var i;1&e&&b.Oc(M,!0),2&e&&b.wc(i=b.gc())&&(t.sslConfigurationSelect=i.first)},attrs:U,decls:39,vars:8,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-12","col-sm-12"],[1,"card"],[1,"card-content"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],["id","tabs","data-tabs","tabs",1,"nav","nav-tabs"],["href","#licence","data-toggle","tab",1,"active"],["href","#users","data-toggle","tab"],["href","#ssl","data-toggle","tab"],["id","my-tab-content",1,"tab-content","text-center"],["class","tab-pane active","id","licence",4,"ngIf"],["id","users",1,"tab-pane","container-fluid"],[1,"text-right",2,"float","right"],["class","btn btn-fill btn-success","role","button",3,"click",4,"ngIf"],["class","card",4,"ngIf"],["style","display: flex; justify-content: flex-end",4,"ngIf"],["id","broadcastTable","style","text-align: left;",4,"ngIf"],["id","ssl",1,"tab-pane","container-fluid"],[1,"form-horizontal"],[1,"form-group"],[1,"col-sm-2","control-label"],[1,"col-sm-10"],["class","form-control-static text-left",4,"ngIf"],[4,"ngIf"],["id","licence",1,"tab-pane","active"],["method","post",1,"form-horizontal",3,"ngSubmit"],["f","ngForm"],["class","form-group text-left",4,"ngIf"],["type","text","required","",1,"dropdown-toggle","form-control",3,"name","ngModel","ngModelChange"],[3,"value"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-fill","btn-info"],[1,"form-group","text-left"],["class","col-sm-10",4,"ngIf"],[1,"form-control-static","text-left"],["aria-hidden","true",1,"fa","fa-spinner","fa-pulse","fa-1x","fa-fw"],[1,"fa","fa-circle","text-muted",2,"color","#98000d"],[1,"form-control-static"],[1,"ti-check",2,"color","#199826","font-size","1.1em"],[1,"col-sm-10","text-left"],["type","text","required","","minlength","1","name","licenseKey","placeholder","Write your license key",1,"form-control",3,"ngModel","ngModelChange"],["licenseKey","ngModel"],[1,"text-danger",3,"hidden"],["target","_blank","matTooltip","Please click it for more usage detail",3,"href"],[1,"fa","fa-info-circle"],["aria-hidden","true",1,"ti-alarm-clock",2,"color","#199826","font-size","1.1em"],["role","button",1,"btn","btn-fill","btn-success",3,"click"],["method","post","validate","",3,"ngSubmit"],[1,"card-header"],[1,"card-title","text-left"],[1,"card-content","text-left"],[1,"star"],["type","text","name","firstName","required","","minlength","2",1,"form-control","input-no-border",3,"ngModel","ngModelChange"],["firstName","ngModel"],["type","text","name","lastName","required","","minlength","2",1,"form-control","input-no-border",3,"ngModel","ngModelChange"],["lastName","ngModel"],["type","text","required","","minlength","4","name","newUserName","placeholder","Username","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,16}$",1,"form-control",3,"ngModel","ngModelChange"],["newUserName","ngModel"],["type","password","required","","minlength","6","name","Password","autocomplete","new-password","placeholder","Password","validateEqual","confirmPassword","reverse","true",1,"form-control",3,"ngModel","ngModelChange"],["Password","ngModel"],["type","password","required","","minlength","6","name","confirmPassword","autocomplete","new-password","reverse","false","validateEqual","Password",1,"form-control",3,"ngModel","ngModelChange",6,"placeholder"],["confirmPassword","ngModel"],["matTooltip","ADMIN user can do anything in their scope. USER can CRUD live streams/upload VoDs in their scope except they cannot change settings/users/applications. READ_ONLY user can only read in their scope",1,"fa","fa-info-circle"],["matTooltip","'Everything' is access to applications/logs/settings. Application specific access is access to the related app",1,"fa","fa-info-circle"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-fill","btn-success",2,"margin","15px",3,"disabled"],["class","fa fa-spinner fa-pulse fa-1x fa-fw","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-simple",3,"click"],[2,"display","flex","justify-content","flex-end"],[1,"mat-header"],["placeholder","Search",3,"keyup"],["id","broadcastTable",2,"text-align","left"],[1,"mat-container","mat-elevation-z0"],["matSort","",2,"overflow","visible !important",3,"dataSource"],["matColumnDef","email"],["mat-sort-header","",3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","permissions"],["matColumnDef","actions"],["class","justify-flex-end",4,"matHeaderCellDef"],["class","justify-flex-end",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","",3,"ngClass"],[3,"ngClass"],[2,"padding-left","12px"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"justify-flex-end"],["title","Change Type","data-toggle","tooltip","type","button",1,"btn","btn-simple","btn-magnify","btn-info","btn-xs","big-icons",3,"click"],[1,"btn-label"],[1,"ti-pencil"],["type","button",1,"btn","btn-simple","btn-magnify","btn-danger","btn-xs","big-icons",3,"click"],[1,"ti-close"],[1,"fa","fa-times",2,"color","#98000d"],[1,"fa","fa-check",2,"color","#199826"],[3,"href"],["type","button",1,"btn","btn-simple",2,"padding-left","3px",3,"click"],["sslConfigurationSelect",""],[3,"value",4,"ngIf"],["disabled","true",3,"value",4,"ngIf"],["type","submit",1,"btn","btn-fill","btn-info",3,"disabled","click"],["class","fa fa-spinner fa-pulse  fa-fw",4,"ngIf"],["disabled","true",3,"value"],["type","text","required","","minlength","1","name","sslDomain","placeholder","Type your domain",1,"form-control",3,"ngModel","ngModelChange"],["sslDomain","ngModel"],[1,"col-sm-5"],["type","file","id","fullChainFileInput",3,"change"],["sslFileInput",""],["type","file","id","keyFileInput",3,"change"],["type","file","id","chainFileInput",3,"change"],[1,"fa","fa-spinner","fa-pulse","fa-fw"]],template:function(e,t){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"div",3),b.Sb(4,"div",4),b.Sb(5,"div",5),b.Sb(6,"div",6),b.Sb(7,"div",7),b.Sb(8,"ul",8),b.Sb(9,"li"),b.Sb(10,"a",9),b.Wb(11,q),b.Rb(),b.Rb(),b.Sb(12,"li"),b.Sb(13,"a",10),b.Wb(14,N),b.Rb(),b.Rb(),b.Sb(15,"li"),b.Sb(16,"a",11),b.Jc(17,"SSL"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(18,"div",12),b.Hc(19,Q,28,15,"div",13),b.Sb(20,"div",14),b.Sb(21,"div",15),b.Hc(22,G,2,0,"button",16),b.Rb(),b.Hc(23,ie,70,24,"div",17),b.Hc(24,ne,3,0,"div",18),b.Hc(25,me,17,3,"div",19),b.Sb(26,"p"),b.Jc(27,"\xa0"),b.Rb(),b.Rb(),b.Sb(28,"div",20),b.Sb(29,"div"),b.Sb(30,"form",21),b.Sb(31,"fieldset"),b.Sb(32,"div",22),b.Sb(33,"label",23),b.Jc(34,"SSL Status"),b.Rb(),b.Sb(35,"div",24),b.Hc(36,ve,3,0,"p",25),b.Hc(37,Ce,5,2,"p",25),b.Rb(),b.Rb(),b.Rb(),b.Hc(38,Me,26,13,"ng-container",26),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e&&(b.Bb(19),b.qc("ngIf",t.settingsReceived),b.Bb(3),b.qc("ngIf",t.userRole!==t.ReadOnlyUserType),b.Bb(1),b.qc("ngIf",t.newUserActive),b.Bb(1),b.qc("ngIf",t.userDataTable.dataRows.length>0),b.Bb(1),b.qc("ngIf",t.userDataTable.dataRows.length>0),b.Bb(11),b.qc("ngIf",!t.serverSettings.sslEnabled),b.Bb(1),b.qc("ngIf",t.serverSettings.sslEnabled),b.Bb(1),b.qc("ngIf",t.sslFormActive))},directives:[u.o,d.x,d.l,d.m,d.u,d.t,d.k,d.n,d.o,d.w,d.d,d.g,B.a,d.q,f,u.n,l.j,l.c,l.e,l.b,l.g,l.i,l.d,u.m,l.a,u.q,u.r,u.s,l.f,l.h],encapsulation:2}),e.\u0275prov=b.Ib({token:e,factory:e.\u0275fac}),e})()}}]);