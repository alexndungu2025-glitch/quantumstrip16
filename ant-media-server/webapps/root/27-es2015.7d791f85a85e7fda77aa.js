(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"7vdS":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));var i=n("2vV0"),o=(n("KeXy"),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},r=i.v.getComponent("MenuButton"),a=i.v.getComponent("Menu"),c=i.v.getComponent("Component"),h=i.v.dom,y=function(t){function e(n){return l(this,e),s(this,t.call(this,n,{title:n.localize("Quality"),name:"QualityButton"}))}return u(e,t),e.prototype.createItems=function(){return[]},e.prototype.createMenu=function(){var t,e=new a(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var n=h.createEl("li",{className:"vjs-menu-title",innerHTML:(t=this.options_.title,"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)),tabIndex:-1}),i=new c(this.player_,{el:n});this.hideThreshold_+=1,e.addItem(i)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)e.addItem(this.items[o]);return e},e}(r),p=function(t){function e(n,i,o,u){l(this,e);var r=s(this,t.call(this,n,{label:i.label,selectable:!0,selected:i.selected||!1}));return r.item=i,r.qualityButton=o,r.plugin=u,r}return u(e,t),e.prototype.handleClick=function(){for(var t=0;t<this.qualityButton.items.length;++t)this.qualityButton.items[t].selected(!1);this.plugin.setQuality(this.item.value),this.selected(!0)},e}(i.v.getComponent("MenuItem")),f={},d=i.v.registerPlugin||i.v.plugin,v=function(){function t(e,n){l(this,t),this.player=e,this.config=n,this.player.qualityLevels&&this.getHls()&&(this.createQualityButton(),this.bindPlayerEvents())}return t.prototype.getHls=function(){return this.player.tech({IWillNotUseThisInPlugins:!0}).hls},t.prototype.bindPlayerEvents=function(){this.player.qualityLevels().on("addqualitylevel",this.onAddQualityLevel.bind(this))},t.prototype.createQualityButton=function(){var t=this.player;this._qualityButton=new y(t);var e=t.controlBar.children().length-2,n=t.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},this.config.placementIndex||e);if(n.addClass("vjs-quality-selector"),this.config.displayCurrentQuality)this.setButtonInnerText("auto");else{var i=" "+(this.config.vjsIconClass||"vjs-icon-hd");n.menuButton_.$(".vjs-icon-placeholder").className+=i}n.removeClass("vjs-hidden")},t.prototype.setButtonInnerText=function(t){this._qualityButton.menuButton_.$(".vjs-icon-placeholder").innerHTML=t},t.prototype.getQualityMenuItem=function(t){return new p(this.player,t,this._qualityButton,this)},t.prototype.onAddQualityLevel=function(){for(var t=this,e=this.player,n=e.qualityLevels().levels_||[],i=[],l=function(e){if(!i.filter((function(t){return t.item&&t.item.value===n[e].height})).length){var o=t.getQualityMenuItem.call(t,{label:n[e].height+"p",value:n[e].height});i.push(o)}},u=0;u<n.length;++u)l(u);i.sort((function(t,e){return"object"!==(void 0===t?"undefined":o(t))||"object"!==(void 0===e?"undefined":o(e))||t.item.value<e.item.value?-1:t.item.value>e.item.value?1:0})),i.push(this.getQualityMenuItem.call(this,{label:e.localize("Auto"),value:"auto",selected:!0})),this._qualityButton&&(this._qualityButton.createItems=function(){return i},this._qualityButton.update())},t.prototype.setQuality=function(t){var e=this.player.qualityLevels();this._currentQuality=t,this.config.displayCurrentQuality&&this.setButtonInnerText("auto"===t?t:t+"p");for(var n=0;n<e.length;++n){var i=e[n];i.enabled=i.height===t||"auto"===t}this._qualityButton.unpressButton()},t.prototype.getCurrentQuality=function(){return this._currentQuality||"auto"},t}(),m=function(t){var e=this;this.ready((function(){!function(t,e){t.addClass("vjs-hls-quality-selector"),t.hlsQualitySelector=new v(t,e)}(e,i.v.mergeOptions(f,t))}))};d("hlsQualitySelector",m),m.VERSION="1.1.4"}}]);